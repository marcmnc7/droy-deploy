{"ast":null,"code":"var _jsxFileName = \"/home/ironhacker/Documents/M3/deploy/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Loading from './components/droy/Loading';\nimport api from './services/apiClient';\nimport MATCH_COMPONENTS from './utils/componentsMatching';\nimport alias from './utils/alias';\nconst STATUS = {\n  LOADING: 'LOADING',\n  LOADED: 'LOADED',\n  ERROR: 'ERROR'\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      try {\n        const {\n          data: {\n            componentsConfiguration,\n            style,\n            _id\n          }\n        } = await api.get(`/projects/${window.location.hostname.split('.')[0]}`);\n        this.setState({\n          projectId: _id,\n          userLayoutObj: componentsConfiguration,\n          projectStyle: style,\n          status: STATUS.LOADED\n        });\n      } catch (error) {\n        this.setState({\n          status: STATUS.ERROR\n        });\n      }\n    };\n\n    this.showUserComponents = () => {\n      const {\n        userLayoutObj\n      } = this.state;\n      return userLayoutObj.map((c, i) => {\n        const UserComp = MATCH_COMPONENTS[c.code];\n        const {\n          info,\n          componentUserOverrideStyle\n        } = alias.findByCode(userLayoutObj, c.code);\n        return /*#__PURE__*/React.createElement(UserComp, {\n          key: i,\n          info: info,\n          userStyle: componentUserOverrideStyle,\n          mode: \"view\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 14\n          }\n        });\n      });\n    };\n\n    this.state = {\n      status: STATUS.LOADING,\n      userLayoutObj: [],\n      projectStyle: \"\",\n      projectId: \"\",\n      dataError: \"\"\n    };\n  }\n\n  render() {\n    const {\n      status\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-builder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, status === STATUS.LOADING && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 74\n      }\n    })), status === STATUS.LOADED && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"components-builder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 38\n      }\n    }, this.showUserComponents()), status === STATUS.ERROR && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 37\n      }\n    }, \"Error 404. Webpage not found.\"));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/deploy/src/App.js"],"names":["React","Component","Loading","api","MATCH_COMPONENTS","alias","STATUS","LOADING","LOADED","ERROR","App","constructor","props","componentDidMount","data","componentsConfiguration","style","_id","get","window","location","hostname","split","setState","projectId","userLayoutObj","projectStyle","status","error","showUserComponents","state","map","c","i","UserComp","code","info","componentUserOverrideStyle","findByCode","dataError","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,MAAMC,MAAM,GAAG;AACbC,EAAAA,OAAO,EAAE,SADI;AAEbC,EAAAA,MAAM,EAAE,QAFK;AAGbC,EAAAA,KAAK,EAAE;AAHM,CAAf;;AAMA,MAAMC,GAAN,SAAkBT,SAAlB,CAA4B;AAC1BU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAWnBC,iBAXmB,GAWC,YAAY;AAC9B,UAAI;AACF,cAAM;AAAEC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,uBAAF;AAA2BC,YAAAA,KAA3B;AAAkCC,YAAAA;AAAlC;AAAR,YAAoD,MAAMd,GAAG,CAACe,GAAJ,CAAS,aAAYC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAuC,EAA5D,CAAhE;AACA,aAAKC,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAEP,GADC;AAEZQ,UAAAA,aAAa,EAAEV,uBAFH;AAGZW,UAAAA,YAAY,EAAEV,KAHF;AAIZW,UAAAA,MAAM,EAAErB,MAAM,CAACE;AAJH,SAAd;AAMD,OARD,CAQE,OAAOoB,KAAP,EAAc;AACd,aAAKL,QAAL,CAAc;AACZI,UAAAA,MAAM,EAAErB,MAAM,CAACG;AADH,SAAd;AAGD;AACF,KAzBkB;;AAAA,SA2BnBoB,kBA3BmB,GA2BE,MAAM;AACzB,YAAM;AAAEJ,QAAAA;AAAF,UAAoB,KAAKK,KAA/B;AACA,aAAOL,aAAa,CAACM,GAAd,CAAkB,CAACC,CAAD,EAAGC,CAAH,KAAS;AAChC,cAAMC,QAAQ,GAAG9B,gBAAgB,CAAC4B,CAAC,CAACG,IAAH,CAAjC;AACA,cAAM;AAAEC,UAAAA,IAAF;AAAQC,UAAAA;AAAR,YAAuChC,KAAK,CAACiC,UAAN,CAAiBb,aAAjB,EAAgCO,CAAC,CAACG,IAAlC,CAA7C;AACA,4BAAO,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAEF,CAAf;AAAkB,UAAA,IAAI,EAAEG,IAAxB;AAA8B,UAAA,SAAS,EAAEC,0BAAzC;AAAqE,UAAA,IAAI,EAAC,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,OAJM,CAAP;AAKD,KAlCkB;;AAEjB,SAAKP,KAAL,GAAa;AACXH,MAAAA,MAAM,EAAErB,MAAM,CAACC,OADJ;AAEXkB,MAAAA,aAAa,EAAE,EAFJ;AAGXC,MAAAA,YAAY,EAAE,EAHH;AAIXF,MAAAA,SAAS,EAAE,EAJA;AAKXe,MAAAA,SAAS,EAAE;AALA,KAAb;AAOD;;AA2BDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEb,MAAAA;AAAF,QAAa,KAAKG,KAAxB;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGH,MAAM,KAAKrB,MAAM,CAACC,OAAlB,iBAA6B;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAmC,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CADhC,EAEGoB,MAAM,KAAKrB,MAAM,CAACE,MAAlB,iBAA4B;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqC,KAAKqB,kBAAL,EAArC,CAF/B,EAGGF,MAAM,KAAKrB,MAAM,CAACG,KAAlB,iBAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAH9B,CADF;AAOD;;AA9CyB;;AAiD5B,eAAeC,GAAf","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport Loading from './components/droy/Loading'\nimport api from './services/apiClient'\nimport MATCH_COMPONENTS from './utils/componentsMatching'\nimport alias from './utils/alias'\n\nconst STATUS = {\n  LOADING: 'LOADING',\n  LOADED: 'LOADED',\n  ERROR: 'ERROR',\n} \n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      status: STATUS.LOADING,\n      userLayoutObj: [],\n      projectStyle: \"\",\n      projectId: \"\",\n      dataError: \"\"\n    }\n  }\n\n  componentDidMount = async () => {\n    try {\n      const { data: { componentsConfiguration, style, _id } } = await api.get(`/projects/${window.location.hostname.split('.')[0]}`)\n      this.setState({\n        projectId: _id,\n        userLayoutObj: componentsConfiguration,\n        projectStyle: style,\n        status: STATUS.LOADED\n      })\n    } catch (error) {\n      this.setState({\n        status: STATUS.ERROR\n      })\n    }\n  }\n\n  showUserComponents = () => {\n    const { userLayoutObj } = this.state\n    return userLayoutObj.map((c,i) => {\n      const UserComp = MATCH_COMPONENTS[c.code]\n      const { info, componentUserOverrideStyle } = alias.findByCode(userLayoutObj, c.code)\n      return <UserComp key={i} info={info} userStyle={componentUserOverrideStyle} mode='view'/>\n    })\n  }\n\n  render() {\n    const { status } = this.state\n    return (\n      <div className=\"main-builder\">\n        {status === STATUS.LOADING && <div className='loading-container'><Loading /></div>}\n        {status === STATUS.LOADED && <div className=\"components-builder\">{this.showUserComponents()}</div>}\n        {status === STATUS.ERROR && <div>Error 404. Webpage not found.</div>}\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}