{"ast":null,"code":"var _jsxFileName = \"/home/ironhacker/Documents/M3/droy/src/components/droy/ModalStartProject.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport '../../styles/modal-start-project.css';\nimport api from '../../services/apiClient';\nimport { withRouter } from \"react-router\";\n\nclass ModalStartProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        name,\n        theme\n      } = this.state;\n      const {\n        history\n      } = this.props;\n\n      try {\n        const createdProject = await api.post('/projects', {\n          name,\n          style: theme\n        });\n        history.push(`/builder/${createdProject.data._id}`);\n      } catch (error) {\n        console.log(error.response.data);\n        this.setState({\n          error: error.toString()\n        });\n      }\n    };\n\n    this.handleDelete = async projectId => {\n      const {\n        history\n      } = this.props;\n\n      try {\n        await api.post(`projects/${projectId}`); // Si redirijo a '/' repinta pero no me lo actualiza \n\n        history.push(`/`);\n      } catch (error) {\n        this.setState({\n          error: error.toString()\n        });\n      }\n    };\n\n    this.showContentModal = () => {\n      const {\n        onClose,\n        styles,\n        allProjects,\n        isStart\n      } = this.props;\n      const {\n        name,\n        theme,\n        error\n      } = this.state;\n\n      if (!isStart) {\n        return allProjects.map((project, index) => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: index,\n            className: \"modal-container\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"modal-style\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            className: \"close-modal\",\n            onClick: onClose,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            className: \"close-modal-image\",\n            src: \"../../img/delete-icon.png\",\n            alt: \"delete-project\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }\n          })), /*#__PURE__*/React.createElement(\"button\", {\n            onClick: e => {\n              this.handleDelete(project._id);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }\n          }, \"Delete\"), /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }\n          }, error)));\n        });\n      }\n\n      ;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-style\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"close-modal\",\n        onClick: onClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"close-modal-image\",\n        src: \"../../img/delete-icon.png\",\n        alt: \"delete-project\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, error), /*#__PURE__*/React.createElement(\"form\", {\n        className: \"form-create-project\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label-modal\",\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }\n      }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n        required: \"required\",\n        className: \"input-modal\",\n        type: \"text\",\n        id: \"name\",\n        value: name,\n        name: \"name\",\n        placeholder: \"name\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label-modal\",\n        htmlFor: \"theme\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, \"Theme:\"), /*#__PURE__*/React.createElement(\"select\", {\n        required: \"required\",\n        className: \"option-modal\",\n        id: \"theme\",\n        value: theme,\n        name: \"theme\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }), styles.map((s, k) => /*#__PURE__*/React.createElement(\"option\", {\n        key: k,\n        value: s.code,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 39\n        }\n      }, s.name))), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button-modal\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }\n      }, \"Create project\"))));\n    };\n\n    this.state = {\n      name: '',\n      theme: '',\n      error: '',\n      allProjetcs: []\n    };\n  }\n\n  render() {\n    return this.showContentModal();\n  }\n\n}\n\nModalStartProject.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n};\nexport default withRouter(ModalStartProject);","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/components/droy/ModalStartProject.js"],"names":["React","Component","PropTypes","api","withRouter","ModalStartProject","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","event","preventDefault","theme","state","history","createdProject","post","style","push","data","_id","error","console","log","response","toString","handleDelete","projectId","showContentModal","onClose","styles","allProjects","isStart","map","project","index","s","k","code","allProjetcs","render","propTypes","isOpen","bool","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../../styles/modal-start-project.css'\nimport api from '../../services/apiClient'\nimport { withRouter } from \"react-router\";\n\nclass ModalStartProject extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      theme: '',\n      error: '',\n      allProjetcs: []\n    }\n  }\n\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    const { name, theme } = this.state\n    const { history } = this.props\n    try {\n      const createdProject = await api.post('/projects', { name, style: theme })\n      history.push(`/builder/${createdProject.data._id}`)\n    } catch (error) {\n      console.log(error.response.data)\n      this.setState({\n        error: error.toString()\n      })\n    }\n  }\n\n  handleDelete = async (projectId) => {\n    const { history } = this.props\n    try {\n      await api.post(`projects/${projectId}`)\n      // Si redirijo a '/' repinta pero no me lo actualiza \n      history.push(`/`)\n\n    } catch (error) {\n      this.setState({\n        error: error.toString()\n      })\n    }\n  }\n\n  showContentModal = () => {\n    const { onClose, styles, allProjects, isStart } = this.props\n    const { name, theme, error } = this.state;\n\n    if (!isStart) {\n      return allProjects.map((project, index) => {\n        return (\n          <div key={index} className='modal-container'>\n            <div className='modal-style'>\n              <button className='close-modal' onClick={onClose}>\n                <img className='close-modal-image' src=\"../../img/delete-icon.png\" alt='delete-project'></img>\n              </button>\n              <button onClick= {(e) => { this.handleDelete(project._id) }}>Delete</button>\n              <p>{error}</p>\n            </div>\n          </div>\n        );\n      });\n    };\n    return (\n        <div className='modal-container'>\n          <div className='modal-style'>\n            <button className='close-modal' onClick={onClose}>\n              <img className='close-modal-image' src=\"../../img/delete-icon.png\" alt='delete-project'></img>\n            </button>\n            <p>{error}</p>\n            <form className='form-create-project' onSubmit={this.handleSubmit}>\n              <label className='label-modal' htmlFor=\"name\">Name:</label>\n              <input required=\"required\" className='input-modal' type=\"text\"\n                id='name'\n                value={name}\n                name=\"name\"\n                placeholder=\"name\"\n                onChange={this.handleChange} />\n              <label className='label-modal' htmlFor=\"theme\">Theme:</label>\n              <select required=\"required\" className='option-modal' id='theme' value={theme} name='theme' onChange={this.handleChange}>\n                <option value=\"\"></option>\n                {styles.map((s, k) => <option key={k} value={s.code}>{s.name}</option>)}\n              </select>\n              <button className='button-modal' type='submit'>Create project</button>\n            </form>\n          </div>\n        </div>\n    )\n  }\n\n  render() {\n    return(\n      this.showContentModal()\n    )\n  }\n}\n\nModalStartProject.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n}\n\nexport default withRouter(ModalStartProject)"]},"metadata":{},"sourceType":"module"}