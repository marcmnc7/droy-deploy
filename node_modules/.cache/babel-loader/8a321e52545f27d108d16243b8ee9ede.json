{"ast":null,"code":"var _jsxFileName = \"/home/ironhacker/Documents/M3/droy/src/components/droy/ModalStartProject.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../services/apiClient';\nimport { withRouter } from \"react-router\";\nimport firebase from '../../services/firebase';\nimport { notifyError } from '../../services/notifications';\n\nclass ModalStartProject extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      try {\n        event.preventDefault();\n        const {\n          name,\n          theme\n        } = this.state;\n        const {\n          history\n        } = this.props;\n        const userUid = firebase.auth().currentUser.uid;\n        const createdProject = await api.post(`/projects/user/${userUid}`, {\n          name,\n          style: theme\n        });\n        history.push(`/builder/${createdProject.data._id}`);\n      } catch (error) {\n        notifyError('Unable to create this project...');\n      }\n    };\n\n    this.state = {\n      name: '',\n      theme: ''\n    };\n  }\n\n  render() {\n    const {\n      onClose,\n      styles\n    } = this.props;\n    const {\n      name,\n      theme\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"close-modal\",\n      onClick: onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"close-modal-image\",\n      src: \"../../img/close-icon.png\",\n      alt: \"delete-project\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-create-project\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-modal\",\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Name of the project:\"), /*#__PURE__*/React.createElement(\"input\", {\n      required: \"required\",\n      className: \"input-modal\",\n      type: \"text\",\n      id: \"name\",\n      value: name,\n      name: \"name\",\n      placeholder: \"name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-modal\",\n      htmlFor: \"theme\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"Choose a theme:\"), /*#__PURE__*/React.createElement(\"select\", {\n      required: \"required\",\n      className: \"option-modal\",\n      id: \"theme\",\n      value: theme,\n      name: \"theme\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }), styles.map((s, k) => /*#__PURE__*/React.createElement(\"option\", {\n      key: k,\n      value: s.code,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 37\n      }\n    }, s.name))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button-modal\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, \"Create project\"))));\n  }\n\n}\n\nModalStartProject.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n};\nexport default withRouter(ModalStartProject);","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/components/droy/ModalStartProject.js"],"names":["React","Component","PropTypes","api","withRouter","firebase","notifyError","ModalStartProject","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","event","preventDefault","theme","state","history","userUid","auth","currentUser","uid","createdProject","post","style","push","data","_id","error","render","onClose","styles","map","s","k","code","propTypes","isOpen","bool","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport api from '../../services/apiClient'\nimport { withRouter } from \"react-router\";\nimport firebase from '../../services/firebase'\nimport { notifyError } from '../../services/notifications'\n\nclass ModalStartProject extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      theme: ''\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit = async (event) => {\n    try {\n      event.preventDefault();\n      const { name, theme } = this.state\n      const { history } = this.props\n      const userUid = firebase.auth().currentUser.uid\n      const createdProject = await api.post(`/projects/user/${userUid}`, { name, style: theme })\n      history.push(`/builder/${createdProject.data._id}`)\n    } catch (error) {\n      notifyError('Unable to create this project...')\n    }\n  }\n\n  render() {\n    const { onClose, styles } = this.props\n    const { name, theme } = this.state;\n\n    return (\n      <div className='modal-container'>\n        <div className='modal-style'>\n          <button className='close-modal' onClick={onClose}>\n            <img className='close-modal-image' src=\"../../img/close-icon.png\" alt='delete-project'></img>\n          </button>\n          <form className='form-create-project' onSubmit={this.handleSubmit}>\n            <label className='label-modal' htmlFor=\"name\">Name of the project:</label>\n            <input required=\"required\" className='input-modal' type=\"text\"\n              id='name'\n              value={name}\n              name=\"name\"\n              placeholder=\"name\"\n              onChange={this.handleChange} />\n            <label className='label-modal' htmlFor=\"theme\">Choose a theme:</label>\n            <select required=\"required\" className='option-modal' id='theme' value={theme} name='theme' onChange={this.handleChange}>\n              <option value=\"\"></option>\n              {styles.map((s, k) => <option key={k} value={s.code}>{s.name}</option>)}\n            </select>\n            <button className='button-modal' type='submit'>Create project</button>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nModalStartProject.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n}\n\nexport default withRouter(ModalStartProject)\n"]},"metadata":{},"sourceType":"module"}