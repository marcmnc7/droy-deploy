{"ast":null,"code":"var _jsxFileName = \"/home/ironhacker/Documents/M3/droy/src/contexts/dataContext.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nconst DataContext = React.createContext(); // Consumer Wrapper\n\nexport const withData = Comp => {\n  return class WithData extends Component {\n    render() {\n      return /*#__PURE__*/React.createElement(DataContext.Consumer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 9\n        }\n      }, props => /*#__PURE__*/React.createElement(Comp, Object.assign({}, this.props, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 24\n        }\n      })));\n    }\n\n  };\n}; // Provider def\n\nclass DataProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveComponentInfoToContext = (componentInfo, componentCode) => {\n      const {\n        userLayoutObj\n      } = this;\n      let newUserLayoutObj = [...userLayoutObj];\n      const existingComponent = newUserLayoutObj.filter(c => c.code === componentCode);\n\n      if (existingComponent.length) {\n        console.log(3);\n        newUserLayoutObj.map(c => {\n          if (c => c.code === componentCode) Object.assign(c.info, componentInfo);\n        });\n      } else {\n        newUserLayoutObj.push({\n          info: componentInfo,\n          code: componentCode\n        });\n      }\n\n      console.log(8, newUserLayoutObj);\n      this.userLayoutObj = newUserLayoutObj;\n      console.log(this.userLayoutObj);\n      /* this.setState({\n        userLayoutObj: newUserLayoutObj\n      })*/\n    };\n\n    this.getUserLayoutObj = () => this.userLayoutObj;\n\n    this.state = {\n      userLayoutObj: []\n    };\n    this.userLayoutObj = [];\n  }\n\n  render() {\n    const {\n      children,\n      code\n    } = this.props;\n    const {\n      userLayoutObj\n    } = this;\n    return /*#__PURE__*/React.createElement(DataContext.Provider, {\n      value: {\n        saveComponentInfoToContext: this.saveComponentInfoToContext,\n        userLayoutObj: userLayoutObj,\n        getInfo: this.getInfo\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, children);\n  }\n\n}\n\nDataProvider.propTypes = {\n  children: PropTypes.node\n};\nexport default DataProvider;","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/contexts/dataContext.js"],"names":["React","Component","PropTypes","DataContext","createContext","withData","Comp","WithData","render","props","DataProvider","constructor","saveComponentInfoToContext","componentInfo","componentCode","userLayoutObj","newUserLayoutObj","existingComponent","filter","c","code","length","console","log","map","Object","assign","info","push","getUserLayoutObj","state","children","getInfo","propTypes","node"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,MAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,IAAD,IAAU;AAChC,SAAO,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AACtCO,IAAAA,MAAM,GAAI;AACR,0BACE,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKC,KAAD,iBAAW,oBAAC,IAAD,oBAAU,KAAKA,KAAf,EAA0BA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADf,CADF;AAKD;;AAPqC,GAAxC;AASD,CAVM,C,CAYP;;AACA,MAAMC,YAAN,SAA2BT,SAA3B,CAAqC;AACnCU,EAAAA,WAAW,CAAEF,KAAF,EAAS;AAClB,UAAMA,KAAN;;AADkB,SAQpBG,0BARoB,GAQS,CAACC,aAAD,EAAgBC,aAAhB,KAAkC;AAC7D,YAAM;AAAEC,QAAAA;AAAF,UAAoB,IAA1B;AACA,UAAIC,gBAAgB,GAAG,CAAE,GAAGD,aAAL,CAAvB;AACA,YAAME,iBAAiB,GAAGD,gBAAgB,CAACE,MAAjB,CAAwBC,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWN,aAAxC,CAA1B;;AACA,UAAGG,iBAAiB,CAACI,MAArB,EAA6B;AAC3BC,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACAP,QAAAA,gBAAgB,CAACQ,GAAjB,CAAqBL,CAAC,IAAI;AACxB,cAAGA,CAAC,IAAIA,CAAC,CAACC,IAAF,KAAWN,aAAnB,EAAkCW,MAAM,CAACC,MAAP,CAAcP,CAAC,CAACQ,IAAhB,EAAsBd,aAAtB;AACnC,SAFD;AAGD,OALD,MAKO;AACLG,QAAAA,gBAAgB,CAACY,IAAjB,CAAsB;AAAED,UAAAA,IAAI,EAAEd,aAAR;AAAuBO,UAAAA,IAAI,EAAEN;AAA7B,SAAtB;AACD;;AACDQ,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ,EAAeP,gBAAf;AACA,WAAKD,aAAL,GAAqBC,gBAArB;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,aAAjB;AACA;;;AAGD,KA1BmB;;AAAA,SA4BpBc,gBA5BoB,GA4BD,MAAM,KAAKd,aA5BV;;AAElB,SAAKe,KAAL,GAAa;AACXf,MAAAA,aAAa,EAAE;AADJ,KAAb;AAGA,SAAKA,aAAL,GAAqB,EAArB;AACD;;AAwBDP,EAAAA,MAAM,GAAI;AACR,UAAM;AAAEuB,MAAAA,QAAF;AAAYX,MAAAA;AAAZ,QAAqB,KAAKX,KAAhC;AACA,UAAM;AAAEM,MAAAA;AAAF,QAAoB,IAA1B;AACA,wBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE;AAC3BH,QAAAA,0BAA0B,EAAE,KAAKA,0BADN;AAE3BG,QAAAA,aAAa,EAAEA,aAFY;AAG3BiB,QAAAA,OAAO,EAAE,KAAKA;AAHa,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGD,QALH,CADF;AASD;;AA3CkC;;AA8CrCrB,YAAY,CAACuB,SAAb,GAAyB;AACvBF,EAAAA,QAAQ,EAAE7B,SAAS,CAACgC;AADG,CAAzB;AAIA,eAAexB,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nconst DataContext = React.createContext()\n\n// Consumer Wrapper\nexport const withData = (Comp) => {\n  return class WithData extends Component {\n    render () {\n      return (\n        <DataContext.Consumer>\n          { (props) => <Comp {...this.props} {...props} /> }\n        </DataContext.Consumer>\n      )\n    }\n  }\n}\n\n// Provider def\nclass DataProvider extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      userLayoutObj: []\n    }\n    this.userLayoutObj = []\n  }\n\n  saveComponentInfoToContext = (componentInfo, componentCode) => {\n    const { userLayoutObj } = this\n    let newUserLayoutObj = [ ...userLayoutObj ]\n    const existingComponent = newUserLayoutObj.filter(c => c.code === componentCode)\n    if(existingComponent.length) {\n      console.log(3)\n      newUserLayoutObj.map(c => {\n        if(c => c.code === componentCode) Object.assign(c.info, componentInfo)\n      })\n    } else {\n      newUserLayoutObj.push({ info: componentInfo, code: componentCode })\n    }\n    console.log(8, newUserLayoutObj)\n    this.userLayoutObj = newUserLayoutObj\n    console.log(this.userLayoutObj)\n    /* this.setState({\n      userLayoutObj: newUserLayoutObj\n    })*/\n  };\n\n  getUserLayoutObj = () => this.userLayoutObj\n\n  render () {\n    const { children, code } = this.props\n    const { userLayoutObj } = this\n    return (\n      <DataContext.Provider value={{\n        saveComponentInfoToContext: this.saveComponentInfoToContext,\n        userLayoutObj: userLayoutObj,\n        getInfo: this.getInfo\n      }}>\n        {children}\n      </DataContext.Provider>\n    )\n  }\n}\n\nDataProvider.propTypes = {\n  children: PropTypes.node\n}\n\nexport default DataProvider\n"]},"metadata":{},"sourceType":"module"}