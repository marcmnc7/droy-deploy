{"ast":null,"code":"import _regeneratorRuntime from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withData}from'../../contexts/dataContext';import'../../styles/navBar.css';import{Link,withRouter}from'react-router-dom';import firebase from'../../services/firebase';var NavBar=/*#__PURE__*/function(_Component){_inherits(NavBar,_Component);var _super=_createSuper(NavBar);function NavBar(){var _this;_classCallCheck(this,NavBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSave=function(){var _this$props=_this.props,projectId=_this$props.projectId,save=_this$props.save;save(projectId);};_this.handleLogout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var history;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history=_this.props.history;_context.next=3;return firebase.auth().signOut();case 3:history.push('/login');case 4:case\"end\":return _context.stop();}}},_callee);}));_this.showEditViewButton=function(){var _this$props2=_this.props,mode=_this$props2.mode,switchMode=_this$props2.switchMode,userLayoutObj=_this$props2.userLayoutObj;if(mode==='view'){return/*#__PURE__*/React.createElement(\"button\",{className:\"buttons-navBar\",onClick:switchMode},\"Edit page\");}if(!userLayoutObj.length){return/*#__PURE__*/React.createElement(\"button\",{className:\"buttons-navBar\"},\"View page\");}return/*#__PURE__*/React.createElement(\"button\",{className:\"buttons-navBar\",onClick:switchMode},\"View page\");};return _this;}_createClass(NavBar,[{key:\"render\",value:function render(){var _this$props3=this.props,withOptions=_this$props3.withOptions,mode=_this$props3.mode,switchMode=_this$props3.switchMode,savingStep=_this$props3.savingStep,userLayoutObj=_this$props3.userLayoutObj;var _firebase$auth=firebase.auth(),currentUser=_firebase$auth.currentUser;return/*#__PURE__*/React.createElement(\"div\",{className:\"nav-bar\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{className:\"logo-navBar\",src:\"/img/logo-green.png\",alt:\"logo-white\"})),withOptions&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"buttons-navBar\",onClick:this.handleSave},savingStep),this.showEditViewButton()),currentUser?/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleLogout,className:\"buttons-navBar\"},\"Logout\"):/*#__PURE__*/React.createElement(Link,{className:\"buttons-navBar\",to:\"/login\"},\"Login\"),currentUser&&/*#__PURE__*/React.createElement(\"div\",{className:\"user-nav\"},/*#__PURE__*/React.createElement(\"img\",{src:currentUser.photoURL,alt:\"user-photo\"}),/*#__PURE__*/React.createElement(\"p\",null,currentUser.displayName)));}}]);return NavBar;}(Component);export default withRouter(withData(NavBar));","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/components/droy/NavBar.js"],"names":["React","Component","withData","Link","withRouter","firebase","NavBar","handleSave","props","projectId","save","handleLogout","history","auth","signOut","push","showEditViewButton","mode","switchMode","userLayoutObj","length","withOptions","savingStep","currentUser","photoURL","displayName"],"mappings":"m4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,4BAAzB,CAEA,MAAO,yBAAP,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,C,GAEMC,CAAAA,M,2TAEJC,U,CAAa,UAAM,iBACW,MAAKC,KADhB,CACTC,SADS,aACTA,SADS,CACEC,IADF,aACEA,IADF,CAEjBA,IAAI,CAACD,SAAD,CAAJ,CACD,C,OAEDE,Y,sEAAe,+IACLC,OADK,CACO,MAAKJ,KADZ,CACLI,OADK,uBAEPP,CAAAA,QAAQ,CAACQ,IAAT,GAAgBC,OAAhB,EAFO,QAGbF,OAAO,CAACG,IAAR,CAAa,QAAb,EAHa,sD,SAMfC,kB,CAAqB,UAAM,kBACmB,MAAKR,KADxB,CACjBS,IADiB,cACjBA,IADiB,CACXC,UADW,cACXA,UADW,CACCC,aADD,cACCA,aADD,CAEzB,GAAIF,IAAI,GAAK,MAAb,CAAqB,CACnB,mBAAO,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAEC,UAA5C,cAAP,CACD,CACD,GAAI,CAACC,aAAa,CAACC,MAAnB,CAA2B,CACzB,mBAAO,8BAAQ,SAAS,CAAC,gBAAlB,cAAP,CACD,CACD,mBAAO,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAEF,UAA5C,cAAP,CACD,C,yEAEQ,kBAC8D,KAAKV,KADnE,CACCa,WADD,cACCA,WADD,CACcJ,IADd,cACcA,IADd,CACoBC,UADpB,cACoBA,UADpB,CACgCI,UADhC,cACgCA,UADhC,CAC4CH,aAD5C,cAC4CA,aAD5C,oBAEiBd,QAAQ,CAACQ,IAAT,EAFjB,CAECU,WAFD,gBAECA,WAFD,CAGP,mBACE,2BAAK,SAAS,CAAC,SAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,eACE,2BAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAC,qBAAjC,CAAuD,GAAG,CAAC,YAA3D,EADF,CADF,CAIGF,WAAW,eAAI,4CACd,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,KAAKd,UAAjD,EAA8De,UAA9D,CADc,CAEb,KAAKN,kBAAL,EAFa,CAJlB,CASGO,WAAW,cACR,8BAAQ,OAAO,CAAE,KAAKZ,YAAtB,CAAoC,SAAS,CAAC,gBAA9C,WADQ,cAER,oBAAC,IAAD,EAAM,SAAS,CAAC,gBAAhB,CAAiC,EAAE,CAAC,QAApC,UAXN,CAYGY,WAAW,eACV,2BAAK,SAAS,CAAC,UAAf,eACA,2BAAK,GAAG,CAAEA,WAAW,CAACC,QAAtB,CAAgC,GAAG,CAAC,YAApC,EADA,cAEA,6BAAID,WAAW,CAACE,WAAhB,CAFA,CAbJ,CADF,CAsBD,C,oBAjDkBxB,S,EA2DrB,cAAeG,CAAAA,UAAU,CAACF,QAAQ,CAACI,MAAD,CAAT,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { withData } from '../../contexts/dataContext'\nimport PropTypes from 'prop-types'\nimport '../../styles/navBar.css'\nimport { Link, withRouter } from 'react-router-dom'\nimport firebase from '../../services/firebase'\n\nclass NavBar extends Component {\n\n  handleSave = () => {\n    const { projectId, save } = this.props\n    save(projectId)\n  }\n\n  handleLogout = async () => {\n    const { history } = this.props\n    await firebase.auth().signOut()\n    history.push('/login')\n  }\n\n  showEditViewButton = () => {\n    const { mode, switchMode, userLayoutObj } = this.props\n    if (mode === 'view') {\n      return <button className='buttons-navBar' onClick={switchMode}>Edit page</button>\n    }\n    if (!userLayoutObj.length) {\n      return <button className='buttons-navBar'>View page</button>\n    }\n    return <button className='buttons-navBar' onClick={switchMode}>View page</button>\n  }\n\n  render() {\n    const { withOptions, mode, switchMode, savingStep, userLayoutObj } = this.props\n    const { currentUser } = firebase.auth()\n    return (\n      <div className='nav-bar'>\n        <Link to='/' >\n          <img className='logo-navBar' src='/img/logo-green.png' alt='logo-white'></img>\n        </Link>\n        {withOptions && <div>\n          <button className='buttons-navBar' onClick={this.handleSave}>{savingStep}</button>\n          {this.showEditViewButton()}\n        </div>\n        }\n        {currentUser\n          ? <button onClick={this.handleLogout} className='buttons-navBar'>Logout</button>\n          : <Link className='buttons-navBar' to=\"/login\">Login</Link>}\n        {currentUser && \n          <div className='user-nav'>\n          <img src={currentUser.photoURL} alt=\"user-photo\" />\n          <p>{currentUser.displayName}</p>\n        </div>\n        }\n\n      </div>\n    )\n  }\n}\n\nNavBar.propTypes = {\n  withOptions: PropTypes.bool,\n  mode: PropTypes.string,\n  switchMode: PropTypes.func,\n  save: PropTypes.func,\n}\n\nexport default withRouter(withData(NavBar))\n"]},"metadata":{},"sourceType":"module"}