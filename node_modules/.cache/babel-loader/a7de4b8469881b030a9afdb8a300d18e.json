{"ast":null,"code":"import _regeneratorRuntime from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import api from'../../services/apiClient';import{withRouter}from\"react-router\";import firebase from'../../services/firebase';var ModalStartProject=/*#__PURE__*/function(_Component){_inherits(ModalStartProject,_Component);var _super=_createSuper(ModalStartProject);function ModalStartProject(props){var _this;_classCallCheck(this,ModalStartProject);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this$state,name,theme,history,userUid,createdProject;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();_this$state=_this.state,name=_this$state.name,theme=_this$state.theme;history=_this.props.history;userUid=firebase.auth().currentUser.uid;_context.next=7;return api.post(\"/projects/user/\".concat(userUid),{name:name,style:theme});case 7:createdProject=_context.sent;history.push(\"/builder/\".concat(createdProject.data._id));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);_this.setState({error:_context.t0.toString()});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.showContentModal=function(){var _this$props=_this.props,onClose=_this$props.onClose,styles=_this$props.styles;var _this$state2=_this.state,name=_this$state2.name,theme=_this$state2.theme,error=_this$state2.error;return/*#__PURE__*/React.createElement(\"div\",{className:\"modal-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-style\"},/*#__PURE__*/React.createElement(\"button\",{className:\"close-modal\",onClick:onClose},/*#__PURE__*/React.createElement(\"img\",{className:\"close-modal-image\",src:\"../../img/close-icon.png\",alt:\"delete-project\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"error-text\"},error),/*#__PURE__*/React.createElement(\"form\",{className:\"form-create-project\",onSubmit:_this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{className:\"label-modal\",htmlFor:\"name\"},\"Name of the project:\"),/*#__PURE__*/React.createElement(\"input\",{required:\"required\",className:\"input-modal\",type:\"text\",id:\"name\",value:name,name:\"name\",placeholder:\"name\",onChange:_this.handleChange}),/*#__PURE__*/React.createElement(\"label\",{className:\"label-modal\",htmlFor:\"theme\"},\"Choose a theme:\"),/*#__PURE__*/React.createElement(\"select\",{required:\"required\",className:\"option-modal\",id:\"theme\",value:theme,name:\"theme\",onChange:_this.handleChange},/*#__PURE__*/React.createElement(\"option\",{value:\"\"}),styles.map(function(s,k){return/*#__PURE__*/React.createElement(\"option\",{key:k,value:s.code},s.name);})),/*#__PURE__*/React.createElement(\"button\",{className:\"button-modal\",type:\"submit\"},\"Create project\"))));};_this.state={name:'',theme:'',error:''};return _this;}_createClass(ModalStartProject,[{key:\"render\",value:function render(){return this.showContentModal();}}]);return ModalStartProject;}(Component);export default withRouter(ModalStartProject);","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/components/droy/ModalStartProject.js"],"names":["React","Component","api","withRouter","firebase","ModalStartProject","props","handleChange","e","setState","target","name","value","handleSubmit","event","preventDefault","state","theme","history","userUid","auth","currentUser","uid","post","style","createdProject","push","data","_id","error","toString","showContentModal","onClose","styles","map","s","k","code"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport api from '../../services/apiClient'\nimport { withRouter } from \"react-router\";\nimport firebase from '../../services/firebase'\n\nclass ModalStartProject extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      theme: '',\n      error: ''\n    }\n  }\n\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n\n  handleSubmit = async (event) => {\n    try {\n      event.preventDefault();\n      const { name, theme } = this.state\n      const { history } = this.props\n      const userUid = firebase.auth().currentUser.uid\n      const createdProject = await api.post(`/projects/user/${userUid}`, { name, style: theme })\n      history.push(`/builder/${createdProject.data._id}`)\n    } catch (error) {\n      this.setState({\n        error: error.toString()\n      })\n    }\n  }\n\n\n  showContentModal = () => {\n    const { onClose, styles } = this.props\n    const { name, theme, error } = this.state;\n\n    return (\n        <div className='modal-container'>\n          <div className='modal-style'>\n            <button className='close-modal' onClick={onClose}>\n              <img className='close-modal-image' src=\"../../img/close-icon.png\" alt='delete-project'></img>\n            </button>\n            <p className='error-text'>{error}</p>\n            <form className='form-create-project' onSubmit={this.handleSubmit}>\n              <label className='label-modal' htmlFor=\"name\">Name of the project:</label>\n              <input required=\"required\" className='input-modal' type=\"text\"\n                id='name'\n                value={name}\n                name=\"name\"\n                placeholder=\"name\"\n                onChange={this.handleChange} />\n              <label className='label-modal' htmlFor=\"theme\">Choose a theme:</label>\n              <select required=\"required\" className='option-modal' id='theme' value={theme} name='theme' onChange={this.handleChange}>\n                <option value=\"\"></option>\n                {styles.map((s, k) => <option key={k} value={s.code}>{s.name}</option>)}\n              </select>\n              <button className='button-modal' type='submit'>Create project</button>\n            </form>\n          </div>\n        </div>\n    )\n  }\n\n  render() {\n    return(\n      this.showContentModal()\n    )\n  }\n}\n\nModalStartProject.propTypes = {\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n}\n\nexport default withRouter(ModalStartProject)\n"]},"metadata":{},"sourceType":"module"}