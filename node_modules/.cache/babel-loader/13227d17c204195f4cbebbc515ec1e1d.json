{"ast":null,"code":"import _regeneratorRuntime from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ironhacker/Documents/M3/droy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withData}from'../contexts/dataContext';import UserComponentBase from'../components/droy/UserComponentBase';import ComponentsSelectorBar from'../components/droy/ComponentsSelectorBar';import NavBar from'../components/droy/NavBar';import Loading from'../components/droy/Loading';import'../styles/builder.css';var Builder=/*#__PURE__*/function(_Component){_inherits(Builder,_Component);var _super=_createSuper(Builder);function Builder(props){var _this;_classCallCheck(this,Builder);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,match,getProjectInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,match=_this$props.match,getProjectInfo=_this$props.getProjectInfo;_context.next=3;return getProjectInfo(match.params.projectId);case 3:_this.setState({isLoading:false});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.showUserComponents=function(){var _this$props2=_this.props,userLayoutObj=_this$props2.userLayoutObj,dataError=_this$props2.dataError;if(!userLayoutObj.length)return/*#__PURE__*/React.createElement(\"div\",{className:\"empty-component-base\"},/*#__PURE__*/React.createElement(\"img\",{className:\"image-emptyBuilder\",src:\"/img/empty-icon.png\",alt:\"empty-icon\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-noComponents\"},\"Start picking one component from the left!\"));if(dataError)return/*#__PURE__*/React.createElement(\"div\",null,dataError);return userLayoutObj.map(function(c){return/*#__PURE__*/React.createElement(UserComponentBase,{componentType:c.componentType,code:c.code,key:c.code});});};_this.state={isLoading:true};return _this;}/* Updates data context with the actual project information */_createClass(Builder,[{key:\"render\",value:function render(){var mode=this.props.mode;var isLoading=this.state.isLoading;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NavBar,{withOptions:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"main-builder\"},isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loading-container\"},/*#__PURE__*/React.createElement(Loading,null)),!isLoading&&mode===\"edit\"&&/*#__PURE__*/React.createElement(ComponentsSelectorBar,null),!isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"components-builder\"},this.showUserComponents())));}}]);return Builder;}(Component);export default withData(Builder);","map":{"version":3,"sources":["/home/ironhacker/Documents/M3/droy/src/pages/Builder.js"],"names":["React","Component","withData","UserComponentBase","ComponentsSelectorBar","NavBar","Loading","Builder","props","componentDidMount","match","getProjectInfo","params","projectId","setState","isLoading","showUserComponents","userLayoutObj","dataError","length","map","c","componentType","code","state","mode"],"mappings":"m4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,yBAAzB,CAEA,MAAOC,CAAAA,iBAAP,KAA8B,sCAA9B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0CAAlC,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,MAAO,uBAAP,C,GAGMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAQnBC,iBARmB,sEAQC,oLACgB,MAAKD,KADrB,CACVE,KADU,aACVA,KADU,CACHC,cADG,aACHA,cADG,uBAEZA,CAAAA,cAAc,CAACD,KAAK,CAACE,MAAN,CAAaC,SAAd,CAFF,QAGlB,MAAKC,QAAL,CAAc,CAAEC,SAAS,CAAE,KAAb,CAAd,EAHkB,sDARD,SAgBnBC,kBAhBmB,CAgBE,UAAM,kBACY,MAAKR,KADjB,CACjBS,aADiB,cACjBA,aADiB,CACFC,SADE,cACFA,SADE,CAEzB,GAAI,CAACD,aAAa,CAACE,MAAnB,CAA2B,mBACzB,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAC,qBAAxC,CAA8D,GAAG,CAAC,YAAlE,EADF,cAEE,yBAAG,SAAS,CAAC,mBAAb,+CAFF,CADyB,CAK3B,GAAID,SAAJ,CAAe,mBAAO,+BAAMA,SAAN,CAAP,CACf,MAAOD,CAAAA,aAAa,CAACG,GAAd,CAAkB,SAACC,CAAD,CAAO,CAC9B,mBAAO,oBAAC,iBAAD,EAAmB,aAAa,CAAEA,CAAC,CAACC,aAApC,CAAmD,IAAI,CAAED,CAAC,CAACE,IAA3D,CAAiE,GAAG,CAAEF,CAAC,CAACE,IAAxE,EAAP,CACD,CAFM,CAAP,CAGD,CA3BkB,CAEjB,MAAKC,KAAL,CAAa,CACXT,SAAS,CAAE,IADA,CAAb,CAFiB,aAKlB,CAED,8D,2DAsBS,IACCU,CAAAA,IADD,CACU,KAAKjB,KADf,CACCiB,IADD,IAECV,CAAAA,SAFD,CAEe,KAAKS,KAFpB,CAECT,SAFD,CAGP,mBACE,4CACE,oBAAC,MAAD,EAAQ,WAAW,KAAnB,EADF,cAEE,2BAAK,SAAS,CAAC,cAAf,EACKA,SAAS,eAAI,2BAAK,SAAS,CAAC,mBAAf,eAAmC,oBAAC,OAAD,MAAnC,CADlB,CAEK,CAACA,SAAD,EAAcU,IAAI,GAAK,MAAvB,eAAiC,oBAAC,qBAAD,MAFtC,CAGK,CAACV,SAAD,eAAc,2BAAK,SAAS,CAAC,oBAAf,EAAqC,KAAKC,kBAAL,EAArC,CAHnB,CAFF,CADF,CAUD,C,qBA3CmBf,S,EAmDtB,cAAeC,CAAAA,QAAQ,CAACK,OAAD,CAAvB","sourcesContent":["import React, { Component } from 'react'\nimport { withData } from '../contexts/dataContext'\nimport PropTypes from 'prop-types'\nimport UserComponentBase from '../components/droy/UserComponentBase'\nimport ComponentsSelectorBar from '../components/droy/ComponentsSelectorBar'\nimport NavBar from '../components/droy/NavBar'\nimport Loading from '../components/droy/Loading'\nimport '../styles/builder.css'\n\n\nclass Builder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isLoading: true\n    }\n  }\n\n  /* Updates data context with the actual project information */\n  componentDidMount = async () => {\n    const { match, getProjectInfo } = this.props\n    await getProjectInfo(match.params.projectId)\n    this.setState({ isLoading: false })\n  }\n\n  /* Loops over project info in data context to print user components */\n  /* If not components found, prints a pretty message */\n  showUserComponents = () => {\n    const { userLayoutObj, dataError } = this.props\n    if (!userLayoutObj.length) return (\n      <div className='empty-component-base'>\n        <img className='image-emptyBuilder' src='/img/empty-icon.png' alt='empty-icon'/>\n        <p className='text-noComponents'>Start picking one component from the left!</p>\n      </div>)\n    if (dataError) return <div>{dataError}</div>\n    return userLayoutObj.map((c) => {\n      return <UserComponentBase componentType={c.componentType} code={c.code} key={c.code} />\n    })\n  }\n\n  render() {\n    const { mode } = this.props\n    const { isLoading } = this.state\n    return (\n      <div>\n        <NavBar withOptions />\n        <div className=\"main-builder\">\n            {isLoading && <div className='loading-container'><Loading /></div>}\n            {!isLoading && mode === \"edit\" && <ComponentsSelectorBar />}\n            {!isLoading && <div className=\"components-builder\">{this.showUserComponents()}</div>}\n        </div>\n      </div>\n    )\n  }\n}\n\nBuilder.propTypes = {\n  userLayoutObj: PropTypes.array,\n  saveInfoToContext: PropTypes.func\n}\n\nexport default withData(Builder)\n"]},"metadata":{},"sourceType":"module"}