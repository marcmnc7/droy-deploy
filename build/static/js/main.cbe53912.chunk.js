(this.webpackJsonpdroy=this.webpackJsonpdroy||[]).push([[0],{127:function(e,t,a){},142:function(e,t,a){e.exports=a(364)},147:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},364:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),l=(a(147),a(6)),i=a.n(l),s=a(9),m=a(2),d=a(3),u=a(5),p=a(4),h=(a(149),a(150),a(151),a(56)),g=a(27),f=a(41),v=a.n(f),b=(a(156),a(366),{apiKey:"AIzaSyBd5EjLbjtvoWmC4jKmFKcTa5Up87I9bTc",authDomain:"".concat("droy-dev",".firebaseapp.com"),databaseURL:"https://".concat("droy-dev",".firebaseio.com"),projectId:"droy-dev",cliendId:"832956384747-g7hlgv9pm4vrncb27s0n0j0fjmoq1q25.apps.googleusercontent.com",storageBucket:"".concat("droy-dev",".appspot.com"),messagingSenderId:"832956384747",appId:"1:832956384747:web:3870c2e89e40d7401385ae"});v.a.initializeApp(b),v.a.auth().setPersistence(v.a.auth.Auth.Persistence.SESSION);var y=v.a;var E=function(e){var t=e.component,a=e.location,n=Object(h.a)(e,["component","location"]);return r.a.createElement(g.b,Object.assign({},n,{render:function(e){return y.auth().currentUser?r.a.createElement(t,e):r.a.createElement(g.a,{to:{pathname:"/login",state:{from:a}}})}}))};var j=function(e){var t=e.component,a=e.location,n=Object(h.a)(e,["component","location"]);return r.a.createElement(g.b,Object.assign({},n,{render:function(e){return y.auth().currentUser?r.a.createElement(g.a,{to:{pathname:"/",state:{from:a}}}):r.a.createElement(t,e)}}))},x=a(55),C=a(24),O=a(12),w=a(137),k=a.n(w),S=new(function(){function e(){Object(m.a)(this,e),this.apiClient=k.a.create({baseURL:"https://droy-api-dev.herokuapp.com",withCredentials:!0})}return Object(d.a)(e,[{key:"get",value:function(e){return this.apiClient.get(e)}},{key:"post",value:function(e,t){return this.apiClient.post(e,t)}},{key:"put",value:function(e,t){return this.apiClient.put(e,t)}},{key:"delete",value:function(e,t){return this.apiClient.delete(e,t)}}]),e}()),N=a(141);var I={copyObject:function(e){return Object(C.a)({},e)},copyArray:function(e){return Object(N.a)(e)},findByCode:function(e,t){return e.find((function(e){return e.code===t}))}},P=r.a.createContext(),L=function(e){return function(t){Object(u.a)(n,t);var a=Object(p.a)(n);function n(){return Object(m.a)(this,n),a.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(P.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t.props,a))}))}}]),n}(n.Component)},M=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).switchMode=function(){var e=n.state.mode;n.setState({mode:"edit"===e?"view":"edit"})},n.deleteComponent=function(e){for(var t=I.copyObject(n.state).userLayoutObj,a=0,r=0;r<t.length;r++){if(t[r].code===e){a=r;break}}t.splice(a,1),n.setState({userLayoutObj:t})},n.moveComponent=function(e,t){for(var a,r=I.copyObject(n.state).userLayoutObj,o=0,c=0;c<r.length;c++){var l=r[c];if(l.code===e){a=l,o=c;break}}r.splice(o,1),"down"===t?r.splice(o+1,0,a):"up"===t&&r.splice(o-1,0,a),n.setState({userLayoutObj:r})},n.addComponent=function(e,t,a,r){var o=I.copyObject(n.state).userLayoutObj,c={};for(var l in t)c=Object.assign(c,Object(O.a)({},l,t[l].style));var i={};for(var s in r)i=Object.assign(i,Object(O.a)({},s,r[s]));o.push({code:e,info:t,style:c,componentOptions:a,componentUserOverrideStyle:i}),n.setState({userLayoutObj:o})},n.save=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({savingStep:"Saving..."}),a=n.state.userLayoutObj,e.next=5,S.put("/projects/".concat(t),{componentsConfiguration:a});case 5:setTimeout((function(){n.setState({savingStep:"OK"}),setTimeout((function(){n.setState({savingStep:"Save"})}),500)}),500),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Error al guardar. Vuelve a intentarlo");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.saveComponentInfoToContext=function(e,t,a){var r=I.copyArray(n.state.userLayoutObj),o=I.findByCode(r,e),c=["fontSize","letterSpacing"],l=o.style;if(a){o.info[t]=a;var i={};for(var s in a.style)c.includes(s)&&(i=Object(C.a)(Object(C.a)({},i),{},Object(O.a)({},s,a.style[s])),l=Object.assign(l,Object(O.a)({},t,i)))}else delete o.info[t];o.style=l,n.setState({userLayoutObj:r})},n.saveUserComponentStyleInfoToContext=function(e,t){var a=I.copyObject(n.state).userLayoutObj,r=I.findByCode(a,e);r.componentUserOverrideStyle?Object.assign(r.componentUserOverrideStyle,t):r.componentUserOverrideStyle=t,n.setState({userLayoutObj:a})},n.updateOrder=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({userLayoutObj:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getProjectInfo=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l,s,m,d,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/projects/".concat(t));case 3:for(m in a=e.sent,r=a.data,o=r.componentsConfiguration,c=r.style,l=r._id,s={},o){for(p in d=o[m],u=d.info)s=Object.assign(s,Object(O.a)({},p,u[p].style));d.style=s}n.setState({projectId:l,userLayoutObj:o,projectStyle:c}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n.setState({dataError:"Unable to get your project data"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),n.state={mode:"edit",userLayoutObj:[],projectStyle:"",projectId:"",dataError:"",savingStep:"Save"},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(P.Provider,{value:Object(C.a)({saveUserComponentStyleInfoToContext:this.saveUserComponentStyleInfoToContext,saveComponentInfoToContext:this.saveComponentInfoToContext,deleteComponent:this.deleteComponent,getProjectInfo:this.getProjectInfo,moveComponent:this.moveComponent,addComponent:this.addComponent,switchMode:this.switchMode,updateOrder:this.updateOrder,save:this.save},this.state)},e)}}]),a}(n.Component),D=(a(179),a(11)),A=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleSave=function(){var t=e.props,a=t.projectId;(0,t.save)(a)},e.handleLogout=Object(s.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.history,t.next=3,y.auth().signOut();case 3:a.push("/login");case 4:case"end":return t.stop()}}),t)}))),e.showEditViewButton=function(){var t=e.props,a=t.mode,n=t.switchMode,o=t.userLayoutObj;return"view"===a?r.a.createElement("button",{className:"buttons-navBar",onClick:n},"Edit page"):o.length?r.a.createElement("button",{className:"buttons-navBar",onClick:n},"View page"):r.a.createElement("button",{className:"buttons-navBar"},"View page")},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.withOptions,a=(e.mode,e.switchMode,e.savingStep),n=(e.userLayoutObj,y.auth().currentUser);return r.a.createElement("div",{className:"nav-bar"},r.a.createElement(D.b,{to:"/"},r.a.createElement("img",{className:"logo-navBar",src:"/img/logo-green.png",alt:"logo-white"})),t&&r.a.createElement("div",null,r.a.createElement("button",{className:"buttons-navBar",onClick:this.handleSave},a),this.showEditViewButton()),n?r.a.createElement("button",{onClick:this.handleLogout,className:"buttons-navBar"},"Logout"):r.a.createElement(D.b,{className:"buttons-navBar",to:"/login"},"Login"),n&&r.a.createElement("div",{className:"user-nav"},r.a.createElement("img",{src:n.photoURL,alt:"user-photo"}),r.a.createElement("p",null,n.displayName)))}}]),a}(n.Component),B=Object(g.g)(L(A)),U=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=n.state,r=a.name,o=a.theme,c=n.props.history,l=y.auth().currentUser.uid,e.next=7,S.post("/projects/user/".concat(l),{name:r,style:o});case 7:s=e.sent,c.push("/builder/".concat(s.data._id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n.setState({error:e.t0.toString()});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),n.showContentModal=function(){var e=n.props,t=e.onClose,a=e.styles,o=n.state,c=o.name,l=o.theme,i=o.error;return r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-style"},r.a.createElement("button",{className:"close-modal",onClick:t},r.a.createElement("img",{className:"close-modal-image",src:"../../img/close-icon.png",alt:"delete-project"})),r.a.createElement("p",{className:"error-text"},i),r.a.createElement("form",{className:"form-create-project",onSubmit:n.handleSubmit},r.a.createElement("label",{className:"label-modal",htmlFor:"name"},"Name of the project:"),r.a.createElement("input",{required:"required",className:"input-modal",type:"text",id:"name",value:c,name:"name",placeholder:"name",onChange:n.handleChange}),r.a.createElement("label",{className:"label-modal",htmlFor:"theme"},"Choose a theme:"),r.a.createElement("select",{required:"required",className:"option-modal",id:"theme",value:l,name:"theme",onChange:n.handleChange},r.a.createElement("option",{value:""}),a.map((function(e,t){return r.a.createElement("option",{key:t,value:e.code},e.name)}))),r.a.createElement("button",{className:"button-modal",type:"submit"},"Create project"))))},n.state={name:"",theme:"",error:""},n}return Object(d.a)(a,[{key:"render",value:function(){return this.showContentModal()}}]),a}(n.Component),R=Object(g.g)(U),W=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.handleDelete=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.props,r=a.project,o=a.onClose,c=n.state.name,e.prev=3,c!==r.name){e.next=13;break}return e.next=7,S.delete("/projects/".concat(r._id));case 7:l=y.storage().ref(y.auth().currentUser.uid),l.child(r._id).listAll().then((function(e){e.items.forEach((function(e){e.delete()}))})),o(),e.next=14;break;case 13:n.setState({error:"The fiels do not match"});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),n.setState({error:e.t0.toString("")});case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),n.state={name:"",error:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.project,n=this.state.error;return r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-style"},r.a.createElement("button",{className:"close-modal",onClick:t},r.a.createElement("img",{className:"close-modal-image",src:"../../img/close-icon.png",alt:"delete-project"})),r.a.createElement("p",{className:"text-modal-close"}," Type ",r.a.createElement("span",{className:"name-text-delete"},a.name)," to delete your project permanently."),r.a.createElement("form",{className:"form-create-project",onSubmit:this.handleDelete},r.a.createElement("input",{required:"required",className:"input-modal",type:"text",name:"name",placeholder:"",onChange:this.handleChange}),r.a.createElement("button",{className:"button-modal",type:"submit"},"Delete")),r.a.createElement("p",{className:"error-text"},n)))}}]),a}(n.Component),q=a(79),H=a.n(q),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.project,a=e.showModalDelete;return r.a.createElement("div",{className:"projects-content"},r.a.createElement(D.b,{to:"builder/".concat(t._id)},r.a.createElement("img",{className:"image-project-homePage",src:"../../img/projects-icon.png",alt:"projects"})),r.a.createElement("div",{className:"project-info"},r.a.createElement("p",{className:"title-project-homePage"},t.name),r.a.createElement("p",{className:"theme-project-homePage"},t.style," Style"),r.a.createElement("p",{className:"updatedAt-project-homePage"},"Updated: ",H()(t.updatedAt).format("DD/MM/YYYY, k:m")),r.a.createElement("p",{className:"createdAt-project-homePage"},"Created: ",H()(t.createdAt).format("DD/MM/YYYY")),r.a.createElement(D.b,{to:"builder/".concat(t._id)},r.a.createElement("img",{className:"image-small-homePage",src:"../../img/view-icon.png",alt:"view-project"})),r.a.createElement("img",{className:"image-small-homePage",onClick:a,"data-project":t._id,src:"../../img/delete-icon.png",alt:"create-project"})))}}]),a}(n.Component),z=(a(92),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-container"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{className:"image-loading",src:"../img/loading.gif",alt:"loading"})))}}]),a}(r.a.Component)),F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-container"},r.a.createElement("h2",{className:"error-title"},"An error occurred"))}}]),a}(r.a.Component),G=(a(180),"LOADING"),Y="LOADED",_="ERROR",V=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(s.a)(i.a.mark((function e(){var t,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([S.get("/styles"),S.get("/projects/user/".concat(y.auth().currentUser.uid))]);case 3:t=e.sent,a=Object(x.a)(t,2),r=a[0].data,o=a[1].data,n.setState({styles:r,allProjects:o,status:Y}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n.setState({status:_});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.showModalDelete=function(e){var t=n.state.allProjects,a=e.target.attributes["data-project"];a=t.find((function(e){return e._id===a.value})),n.setState({modalDelete:{show:!0,data:a},modalStart:!1})},n.closeModalDelete=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.get("/projects/user/".concat(y.auth().currentUser.uid));case 3:t=e.sent,a=t.data,n.setState({modalDelete:{show:!1,data:""},allProjects:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({status:_});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.showModalStart=function(){n.setState({modalDelete:{show:!1,data:""},modalStart:!0})},n.closeModalStart=function(){n.setState({modalStart:!1})},n.state={modalDelete:{show:"",data:""},modalStart:!1,styles:[],allProjects:[],status:G},n}return Object(d.a)(a,[{key:"showContent",value:function(){var e=this,t=this.state,a=t.status,n=t.styles,o=t.modalStart,c=t.modalDelete,l=t.allProjects;switch(a){case G:return r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null));case Y:return r.a.createElement("div",null,r.a.createElement("h2",{className:"title-homePage"},"Create a project:"),r.a.createElement("img",{className:"buttons-homePage",onClick:this.showModalStart,src:"../../img/sum-icon.png",alt:"create-project"}),o&&r.a.createElement(R,{styles:n,onClose:this.closeModalStart}),c.show&&r.a.createElement(W,{onClose:this.closeModalDelete,project:c.data}),l.length>0&&r.a.createElement("div",null,r.a.createElement("h2",{className:"title-homePage"},"Select the project you want to open:"),r.a.createElement("div",{className:"all-projects-homePage"},l.map((function(t,a){return r.a.createElement(T,{key:a,project:t,showModalDelete:e.showModalDelete})})))));case _:return r.a.createElement("div",null," ",r.a.createElement(F,null)," ")}}},{key:"render",value:function(){return r.a.createElement("div",{className:"homePage-container"},r.a.createElement(B,null),this.showContent())}}]),a}(n.Component),K=a(138),J=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).uploadHandler=function(){e.refs.imageUploader.click()},e.handleError=function(e){e.target.src="/img/notFound.jpg"},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.changeImage,n=e.name,o=e.style,c=this.props["data-id"];return r.a.createElement("div",{style:o},r.a.createElement("input",{"data-id":c,name:n,id:n,style:{display:"none"},onChange:a,ref:"imageUploader",type:"file"}),r.a.createElement("img",{onError:this.handleError,onDoubleClick:this.uploadHandler,src:t,alt:"",style:{width:"100%",height:"100%"}}))}}]),a}(n.Component),$=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).goToLink=function(){var t=e.props,a=t.info;"view"===t.mode&&(a.toNewPage?window.open(a.href):window.location=a.href)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.info,a=e.style,n=e.onDoubleClick,o=e.contentAttrStyle,c=this.props["data-id"];return a=Object.assign({},a,o),r.a.createElement("button",{type:"button",onClick:this.goToLink,"data-id":c,onDoubleClick:n,style:a},t.text)}}]),a}(n.Component),Q=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).showLinks=function(){var t=e.props,a=t.mode,n=t.info,o=t.openChangeModal,c=t.linksStyle,l=t.contentStyle,i=[],s=1;for(var m in n)"link"===n[m].type&&(i.push(r.a.createElement($,{contentAttrStyle:l[m],key:s,mode:a,info:n[m],style:c,"data-id":m,onDoubleClick:o})),s+=1);return i},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.containerStyle;return r.a.createElement("div",{style:e},this.showLinks())}}]),a}(n.Component),X={backgroundColor:"#383a37",padding:"8px 40px 8px 40px",display:"flex",color:"white",justifyContent:"space-between",alignItems:"center",position:"relative"},Z={paddingLeft:"50px",width:"90px",overflow:"hidden",height:"78px"},ee={display:"flex",flexDirection:"row",maxHeight:"60px",maxWidth:"50vw",overflow:"hidden"},te={paddingRight:"15px",backgroundColor:"transparent",border:"none",color:"#ededed",fontFamily:"'Caladea', serif"},ae=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.mode,n=e.info,o=e.contentStyle,c=e.children,l=e.changeImage,i=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},X,t)},c,r.a.createElement(J,{style:Z,"data-id":"logo",src:n.logo.src,changeImage:l}),r.a.createElement(Q,{mode:a,openChangeModal:i,info:n,contentStyle:o,containerStyle:ee,linksStyle:te}))}}]),a}(n.Component),ne={backgroundColor:"#f4ece5",padding:"8px 40px 8px 10px",display:"flex",color:"white",justifyContent:"space-between",alignItems:"center",height:"60px",position:"relative"},re={paddingLeft:"50px",width:"81px",overflow:"hidden",height:"70px"},oe={display:"flex",flexDirection:"row",maxHeight:"60px",maxWidth:"50vw",overflow:"hidden"},ce={color:"#252525",paddingRight:"15px",fontSize:"0.9rem",backgroundColor:"transparent",border:"none"},le=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.mode,n=e.info,o=e.contentStyle,c=e.children,l=e.changeImage,i=e.openChangeModal,s=Object.assign({},ne,t);return r.a.createElement("div",{style:s},c,r.a.createElement(J,{style:re,"data-id":"logo",src:n.logo.src,changeImage:l}),r.a.createElement(Q,{mode:a,openChangeModal:i,info:n,contentStyle:o,containerStyle:oe,linksStyle:ce}))}}]),a}(n.Component),ie={backgroundImage:'url("/img/classic-home1.jpg")',height:"600px",backgroundSize:"cover",padding:"30px 40px 8px 80px",position:"relative",fontFamily:"'Caladea', serif"},se={textAlign:"left",overflow:"hidden",color:"#2a2c2a"},me={fontWeight:"400",maxWidth:"50vw",overflow:"hidden"},de={fontSize:"1rem",fontWeight:"200",marginTop:"-35px",padding:"0px 55% 0px 0px",maxWidth:"80vw",overflow:"hidden"},ue={display:"flex",flexDirection:"column",maxHeight:"500px",maxWidth:"15vw",overflow:"hidden",marginTop:"15px"},pe={fontSize:"0.9rem",backgroundColor:"#2a2c2a",padding:"10px 5px",border:"none",color:"#ededed",fontFamily:"'Caladea', serif",marginBottom:"10px",borderRadius:"5px"},he=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.mode,n=e.info,o=e.contentStyle,c=e.children,l=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},ie,t)},c,r.a.createElement("div",{style:se},r.a.createElement("h1",{style:Object.assign({},me,o.text1),"data-id":"text1",onDoubleClick:l},n.text1.text),r.a.createElement("p",{style:Object.assign({},de,o.text2),"data-id":"text2",onDoubleClick:l},n.text2.text),r.a.createElement(Q,{mode:a,openChangeModal:l,info:n,contentStyle:o,containerStyle:ue,linksStyle:pe})))}}]),a}(n.Component),ge={padding:"30px 40px 8px 80px",position:"relative",fontFamily:"'Caladea', serif",backgroundColor:"#edecdf"},fe={textAlign:"center",overflow:"hidden",color:"#2a2c2a"},ve={display:"flex",alignContent:"center",justifyContent:"center"},be={fontWeight:"400",maxWidth:"100%",overflow:"hidden"},ye={fontSize:"1rem",fontWeight:"200",maxWidth:"100%",overflow:"hidden",textAlign:"left",padding:"5px 55px",flexGrow:"1"},Ee=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.info,n=e.contentStyle,o=e.children,c=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},ge,t)},o,r.a.createElement("div",{style:fe},r.a.createElement("h1",{style:Object.assign({},be,n.text4),"data-id":"text4",onDoubleClick:c},a.text4.text),r.a.createElement("div",{style:ve},r.a.createElement("p",{style:Object.assign({},ye,n.text5),"data-id":"text5",onDoubleClick:c},a.text5.text),r.a.createElement("p",{style:Object.assign({},ye,n.text6),"data-id":"text6",onDoubleClick:c},a.text6.text))))}}]),a}(n.Component),je={fontFamily:"'Caladea', serif",display:"flex",position:"relative"},xe={width:"50%",overflow:"hidden",height:"100%"},Ce={textAlign:"left",overflow:"hidden",color:"#2a2c2a",width:"50%",backgroundColor:"white"},Oe={fontWeight:"400",maxWidth:"100%",overflow:"hidden",padding:" 30px 40px 0px 40px"},we={fontSize:"1rem",fontWeight:"200",maxWidth:"80vw",overflow:"hidden",padding:" 0px 40px"},ke=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.info,n=e.changeImage,o=e.contentStyle,c=e.children,l=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},je,t)},c,r.a.createElement("div",{style:xe},r.a.createElement(J,{"data-id":"image",src:a.image.src,changeImage:n})),r.a.createElement("div",{style:Ce},r.a.createElement("h1",{style:Object.assign({},Oe,o.text7),"data-id":"text7",onDoubleClick:l},a.text7.text),r.a.createElement("p",{style:Object.assign({},we,o.text8),"data-id":"text8",onDoubleClick:l},a.text8.text)))}}]),a}(n.Component),Se={fontFamily:"'Caladea', serif",display:"flex",position:"relative"},Ne={width:"50%",overflow:"hidden",height:"100%"},Ie={textAlign:"left",overflow:"hidden",color:"#2a2c2a",width:"50%",backgroundColor:"white"},Pe={fontWeight:"400",maxWidth:"100%",overflow:"hidden",padding:" 30px 40px 0px 40px"},Le={fontSize:"1rem",fontWeight:"200",maxWidth:"80vw",overflow:"hidden",padding:" 0px 40px"},Me=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.info,n=e.changeImage,o=e.contentStyle,c=e.children,l=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},Se,t)},c,r.a.createElement("div",{style:Ie},r.a.createElement("h1",{style:Object.assign({},Pe,o.text7),"data-id":"text7",onDoubleClick:l},a.text7.text),r.a.createElement("p",{style:Object.assign({},Le,o.text8),"data-id":"text8",onDoubleClick:l},a.text8.text)),r.a.createElement("div",{style:Ne},r.a.createElement(J,{"data-id":"image",src:a.image.src,changeImage:n})))}}]),a}(n.Component),De={fontFamily:"'Caladea', serif",display:"flex",position:"relative",padding:"50px",backgroundColor:"white"},Ae={display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",alignItems:"center",color:"#2a2c2a",width:"100%"},Be={width:"80px"},Ue={fontWeight:"400",maxWidth:"100%",overflow:"hidden"},Re=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.info,n=e.changeImage,o=e.contentStyle,c=e.children,l=e.openChangeModal;return r.a.createElement("div",{style:Object.assign({},De,t)},c,r.a.createElement("div",{style:Ae},r.a.createElement("div",{style:Be},r.a.createElement(J,{"data-id":"image",src:a.image.src,changeImage:n})),r.a.createElement("h2",{style:Object.assign({},Ue,o.text9),"data-id":"text9",onDoubleClick:l},a.text9.text)),r.a.createElement("div",{style:Ae},r.a.createElement("div",{style:Be},r.a.createElement(J,{"data-id":"image1",src:a.image1.src,changeImage:n})),r.a.createElement("h2",{style:Object.assign({},Ue,o.text10),"data-id":"text10",onDoubleClick:l},a.text10.text)),r.a.createElement("div",{style:Ae},r.a.createElement("div",{style:Be},r.a.createElement(J,{"data-id":"image2",src:a.image2.src,changeImage:n})),r.a.createElement("h2",{style:Object.assign({},Ue,o.text11),"data-id":"text11",onDoubleClick:l},a.text11.text)),r.a.createElement("div",{style:Ae},r.a.createElement("div",{style:Be},r.a.createElement(J,{"data-id":"image3",src:a.image3.src,changeImage:n})),r.a.createElement("h2",{style:Object.assign({},Ue,o.text12),"data-id":"text12",onDoubleClick:l},a.text12.text)))}}]),a}(n.Component),We={backgroundColor:"#a40000",padding:"8px 40px 8px 40px",display:"flex",color:"white",justifyContent:"space-between",alignItems:"center",height:"60px",position:"relative",fontFamily:"'Oswald', sans-serif"},qe={paddingLeft:"30px",width:"81px",overflow:"hidden",height:"70px"},He={display:"flex",flexDirection:"row",color:"white",maxHeight:"60px",maxWidth:"50vw",overflow:"hidden"},Te={color:"white",paddingRight:"15px",fontSize:"0.9rem",backgroundColor:"transparent",border:"none"},ze=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=e.mode,n=e.info,o=e.children,c=e.changeImage,l=e.openChangeModal,i=Object.assign({},We,t);return r.a.createElement("div",{style:i},o,r.a.createElement(J,{style:qe,"data-id":"logo",src:n.logo.src,changeImage:c}),r.a.createElement(Q,{mode:a,openChangeModal:l,info:n,containerStyle:He,linksStyle:Te}))}}]),a}(n.Component),Fe={backgroundImage:'url("/img/modern-home1.jpg")',height:"600px",backgroundSize:"cover",padding:"8px 40px 8px 40px",position:"relative",fontFamily:"'Oswald', sans-serif"},Ge={textAlign:"left"},Ye={fontSize:"3rem",fontWeight:"400",maxWidth:"50vw",overflow:"hidden"},_e={fontSize:"1rem",fontWeight:"200",marginTop:"-25px",maxWidth:"80vw",overflow:"hidden"},Ve={ClassicHeading1:ae,ClassicHeading2:le,ClassicHome1:he,ClassicArticle1:Ee,ClassicSectionRight:ke,ClassicSectionLeft:Me,ClassicTimeline:Re,ModernHeading1:ze,ModernHome1:function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userStyle,a=(e.mode,e.info),n=e.contentStyle,o=e.children,c=(e.changeImage,e.openChangeModal);return r.a.createElement("div",{style:Object.assign({},Fe,t)},o,r.a.createElement("div",{style:Ge},r.a.createElement("h1",{style:Object.assign({},Ye,n.text1),"data-id":"text1",onDoubleClick:c},a.text1.text),r.a.createElement("p",{style:Object.assign({},_e,n.text2),"data-id":"text2",onDoubleClick:c},a.text2.text)))}}]),a}(n.Component)},Ke=(a(181),a(139)),Je=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleAcceptChangeColor=function(){n.props.changeColor(n.state.color.hex)},n.handleMoveComponent=function(e){var t=n.props;(0,t.moveComponent)(t.code,e.target.attributes["data-action"].value)},n.handleDelete=function(){var e=n.props,t=e.code;(0,e.deleteComponent)(t)},n.handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.handleChangeHeight=function(e){var t=n.props.changeHeight;n.setState({height:e.target.value},(function(){t("".concat(n.state.height,"px"))}))},n.showOptions=function(){n.setState({showOptions:!n.state.showOptions,showColorPicker:!1})},n.toggleColorPicker=function(){n.setState({showColorPicker:!n.state.showColorPicker})},n.handleChangeColor=function(e){n.setState({color:e})},n.uploadHandler=function(){n.refs.imageUploader.click()},n.state={showOptions:!1,color:"",showColorPicker:!1,height:n.props.componentStyle.height.replace("px","")},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showOptions,a=e.color,n=e.showColorPicker,o=e.height,c=this.props,l=c.changeColor,i=c.addLink,s=c.changeBackgroundImage,m=c.changeHeight;return r.a.createElement("div",{className:"container-options-bar"},r.a.createElement("button",{className:"buttons-optionBar"},r.a.createElement("img",{className:"image-optionBar",onClick:this.showOptions,src:"../../img/edit-icon.png",alt:"edit"})),r.a.createElement("div",null,t&&r.a.createElement("div",{className:"options-bar"},r.a.createElement("img",{className:"image-optionBar options","data-action":"down",src:"/img/down-icon.png",alt:"down",onClick:this.handleMoveComponent}),r.a.createElement("img",{className:"image-optionBar options","data-action":"up",src:"/img/up-icon.png",alt:"up",onClick:this.handleMoveComponent}),i&&r.a.createElement("img",{alt:"newLink",onClick:i,className:"image-optionBar options",src:"/img/link-icon.png"}),l&&r.a.createElement("img",{onClick:this.toggleColorPicker,alt:"newLink",className:"image-optionBar",src:"/img/color-icon.png"}),s&&r.a.createElement("img",{onClick:this.uploadHandler,alt:"newLink",className:"image-optionBar options",src:"/img/upload-icon.png"}),r.a.createElement("input",{name:"image",id:"image",style:{display:"none"},onChange:s,ref:"imageUploader",type:"file"}),m&&r.a.createElement("input",{className:"height-optionsBar options",type:"number",min:"40",step:"5",value:o,onChange:this.handleChangeHeight,name:"height",max:"400"}),r.a.createElement("img",{className:"image-optionBar",onClick:this.handleDelete,src:"/img/deleteBar-icon.png",alt:"delete"}))),n&&r.a.createElement("div",{className:"colorPicker"},r.a.createElement(Ke.SketchPicker,{disableAlpha:!0,onCancel:this.toggleColorPicker,onChange:this.handleChangeColor,color:a,onChangeComplete:this.handleAcceptChangeColor})))}}]),a}(n.Component),$e=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChangeNormal=function(e){var t=Object(C.a)({},n.state.info);t[e.target.name]="toNewPage"===e.target.name?e.target.checked:e.target.value,n.setState({info:t})},n.handleChangeStyle=function(e){var t=Object(C.a)({},n.state.style);t[e.target.name]=e.target.value,n.setState({style:t})},n.handleChangeInfo=function(e){e.preventDefault();var t=n.props.changeInfo,a=n.state,r=a.info,o=a.style;t(Object(C.a)(Object(C.a)({},r),{},{style:o}))},n.state={info:n.props.info,style:n.props.style,error:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClose,a=e.deleteLink,n=this.state,o=n.info,c=n.style;return r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{className:"modal-style"},r.a.createElement("button",{className:"close-modal",onClick:t},r.a.createElement("img",{className:"close-modal-image",src:"/img/close-icon.png",alt:"delete-project"})),r.a.createElement("form",{className:"form-create-project",onSubmit:this.handleChangeInfo},r.a.createElement("div",{className:"modal-field-group"},r.a.createElement("label",{className:"label-modal",htmlFor:"display-text"},"Display text:"),r.a.createElement("input",{required:"required",className:"input-modal",type:"text",name:"text",value:o.text,onChange:this.handleChangeNormal})),"link"===o.type&&r.a.createElement("div",{className:"modal-field-group"},r.a.createElement("label",{className:"label-modal",htmlFor:"link-to"},"Link destination:"),r.a.createElement("input",{id:"link-to",required:"required",className:"input-modal",type:"text",name:"href",value:o.href,onChange:this.handleChangeNormal}),r.a.createElement("label",{className:"label-modal",htmlFor:"link-to"},"Open in new window?"),r.a.createElement("input",{className:"checkbox",onChange:this.handleChangeNormal,checked:o.toNewPage,type:"checkbox",name:"toNewPage",id:"toNewPage"})),r.a.createElement("div",{className:"modal-field-subgroup"},r.a.createElement("div",{className:"subgroup-field"},r.a.createElement("label",{className:"label-modal",htmlFor:"fontSize"},"Text size:"),r.a.createElement("input",{id:"fontSize",required:"required",className:"input-modal",type:"text",name:"fontSize","data-type":"style",value:c.fontSize,onChange:this.handleChangeStyle})),r.a.createElement("div",{className:"subgroup-field"},r.a.createElement("label",{className:"label-modal",htmlFor:"letterSpacing"},"Letter spacing:"),r.a.createElement("input",{id:"letterSpacing",required:"required",className:"input-modal",type:"text",name:"letterSpacing","data-type":"style",value:c.letterSpacing,onChange:this.handleChangeStyle}))),r.a.createElement("button",{className:"button-modal",type:"submit"},"Update info")),"link"===o.type&&r.a.createElement("p",{onClick:a,className:"button-modal-red",type:"submit"},"Delete link")))}}]),a}(n.Component),Qe=a(80),Xe=(a(345),L(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleOpenModal=function(e){var t=n.props,a=t.userLayoutObj,r=t.code,o=e.target.attributes["data-id"].value,c=I.findByCode(a,r);n.setState({openChangeModal:!0,attributeSelected:o,attributeSelectedInfo:c.info[o],attributeSelectedStyle:c.style[o]})},n.handleCloseModal=function(){n.setState({openChangeModal:!1,attributeSelected:"",attributeSelectedInfo:"",attributeSelectedStyle:""})},n.changeImage=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l,s,m,d,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,r=a.projectId,o=a.code,c=a.saveComponentInfoToContext,l=t.target.attributes["data-id"].value,!((s=t.target.files[0]).size>7e4)){e.next=7;break}alert("Imagen demasiado grande."),e.next=15;break;case 7:return m=Object(Qe.uuid)(),d=y.storage().ref("/".concat(y.auth().currentUser.uid,"/").concat(r,"/").concat(m)),e.next=11,d.put(s);case 11:return e.next=13,d.getDownloadURL();case 13:u=e.sent,c(o,l,{src:u});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addLink=function(){var e=n.props,t=e.code,a=e.saveComponentInfoToContext,r=e.userLayoutObj,o=I.findByCode(r,t).info,c=[];for(var l in o)"link"===o[l].type&&c.push(parseInt(l.match(/\d+$/)[0]));if(!(c.length>=5)){a(t,c.length?"link".concat(Math.max.apply(Math,c)+1):"link1",{style:{fontSize:"1rem",letterSpacing:"inherit"},type:"link",text:"New link",href:"http://www.google.es",toNewPage:!0})}},n.deleteLink=function(e){var t=n.props,a=t.code;(0,t.saveComponentInfoToContext)(a,n.state.attributeSelected,void 0),n.handleCloseModal()},n.changeInfo=function(e){var t=n.state.attributeSelected,a=n.props,r=a.code;(0,a.saveComponentInfoToContext)(r,t,e),n.handleCloseModal()},n.changeColor=function(e){var t=n.props,a=t.code;(0,t.saveUserComponentStyleInfoToContext)(a,{backgroundColor:e})},n.changeHeight=function(e){var t=n.props,a=t.code;(0,t.saveUserComponentStyleInfoToContext)(a,{height:e})},n.changeBackgroundImage=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l,s,m,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,r=a.projectId,o=a.code,c=a.saveUserComponentStyleInfoToContext,!((l=t.target.files[0]).size>7e5)){e.next=6;break}alert("Imagen demasiado grande."),e.next=14;break;case 6:return s=Object(Qe.uuid)(),m=y.storage().ref("/".concat(y.auth().currentUser.uid,"/").concat(r,"/").concat(s)),e.next=10,m.put(l);case 10:return e.next=12,m.getDownloadURL();case 12:d=e.sent,c(o,{backgroundImage:'url("'.concat(d,'")')});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={optionsModal:!1,attributeSelected:"",attributeSelectedInfo:"",attributeSelectedStyle:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.moveComponent,n=e.componentOptions,o=e.code,c=e.deleteComponent,l=e.userLayoutObj,i=this.state,s=i.attributeSelected,m=i.openChangeModal,d=i.attributeSelectedInfo,u=i.attributeSelectedStyle,p=Ve[o],h=I.findByCode(l,o),g=h.info,f=h.style,v=h.componentUserOverrideStyle,b={};b.info=g,b.contentStyle=f,b.userStyle=v,"edit"===t&&(b.openChangeModal=this.handleOpenModal,b.changeImage=this.changeImage);var y={};y.code=o,y.deleteComponent=c,y.moveComponent=a,y.componentStyle=v,n.includes("changeHeight")&&(y.changeHeight=this.changeHeight),n.includes("addLinks")&&(y.addLink=this.addLink),n.includes("backgroundColor")&&(y.changeColor=this.changeColor),n.includes("backgroundImage")&&(y.changeBackgroundImage=this.changeBackgroundImage);var E={};return E.attributeSelected=s,E.onClose=this.handleCloseModal,E.style=u,E.deleteLink=this.deleteLink,E.changeInfo=this.changeInfo,E.info=d,E.code=o,r.a.createElement(p,Object.assign({},b,{mode:t}),"edit"===t&&r.a.createElement(Je,y),m&&r.a.createElement($e,E))}}]),a}(n.Component))),Ze=(a(346),"LOADING"),et="LOADED",tt="ERROR",at=L(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(s.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.projectStyle,e.next=4,S.get("/components?style=".concat(t));case 4:a=e.sent,r=a.data,n.setState({styleComponents:r,status:et}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.setState({status:tt});case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.showComponents=function(){var e=n.props.userLayoutObj.map((function(e){return e.code}));return n.state.styleComponents.map((function(t){var a=t.thumbnail;return e.includes(t.code)?r.a.createElement("div",{key:t.code,style:{margin:"20px",opacity:"0.3",backgroundImage:'url("'.concat(a.name,'")'),backgroundRepeat:"no-repeat",backgroundSize:"100%",height:a.height}}):r.a.createElement("div",{key:t.code,style:{margin:"20px",backgroundImage:'url("'.concat(a.name,'")'),backgroundRepeat:"no-repeat",backgroundSize:"100%",height:a.height}},r.a.createElement("button",{className:"buttons-selectorBar"},r.a.createElement("img",{"data-code":t.code,onClick:n.handleAddComponent,className:"image-selectorBar",src:"/img/sum-icon.png",alt:"down"})))}))},n.handleAddComponent=function(e){var t=n.props.addComponent,a=n.state.styleComponents,r=e.target.attributes["data-code"].value,o=I.findByCode(a,r);t(r,o.defaultConfig,o.componentOptions,o.componentStyle)},n.showContent=function(){switch(n.state.status){case Ze:return r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null));case et:return n.showComponents();case tt:return r.a.createElement("div",{className:"error-text padding-error"},"Error")}},n.state={styleComponents:[],status:Ze},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"components-bar"},r.a.createElement("h2",{className:"title-component-bar"},"Components:"),this.showContent())}}]),a}(n.Component)),nt=(a(347),a(57)),rt=L(function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).reorder=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),o=Object(x.a)(r,1)[0];return n.splice(a,0,o),n},n.onDragEnd=function(e){var t=n.props,a=t.userLayoutObj,r=t.updateOrder;e.destination&&r(n.reorder(a,e.source.index,e.destination.index))},n.componentDidMount=Object(s.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.match,r=t.getProjectInfo,e.next=3,r(a.params.projectId);case 3:n.setState({isLoading:!1});case 4:case"end":return e.stop()}}),e)}))),n.showUserComponents=function(){var e=n.props,t=e.userLayoutObj,a=e.dataError;if(!t.length)return r.a.createElement("div",{className:"empty-component-base"},r.a.createElement("img",{className:"image-emptyBuilder",src:"/img/empty-icon.png",alt:"empty-icon"}),r.a.createElement("p",{className:"text-noComponents"},"Start picking one component from the left!"));if(a)return r.a.createElement("div",null,a);var o=[];if("edit"===n.props.mode){var c,l=0,i=Object(K.a)(t);try{var s=function(){var e=c.value;o.push(r.a.createElement(nt.b,{key:e.code,draggableId:e.code,index:l},(function(t,a){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement(Xe,{componentStyle:e.componentStyle,componentOptions:e.componentOptions,code:e.code,key:e.code}))}))),l+=1};for(i.s();!(c=i.n()).done;)s()}catch(m){i.e(m)}finally{i.f()}return r.a.createElement(nt.c,{key:l,droppableId:"droppable"},(function(e,t){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),[].concat(o),e.placeholder)}))}return t.map((function(e){return r.a.createElement(Xe,{componentStyle:e.componentStyle,componentOptions:e.componentOptions,code:e.code,key:e.code})}))},n.state={isLoading:!0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.mode,t=this.state.isLoading;return r.a.createElement("div",null,r.a.createElement(B,{withOptions:!0}),r.a.createElement("div",{className:"main-builder"},t&&r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null)),!t&&"edit"===e&&r.a.createElement(at,null),r.a.createElement(nt.a,{onDragEnd:this.onDragEnd},!t&&r.a.createElement("div",{className:"components-builder"},this.showUserComponents()))))}}]),a}(n.Component)),ot=(a(349),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("h2",{className:"title-not-found"},"Error 404"),r.a.createElement("p",{className:"subtitle-not-found"},"Page not found"),r.a.createElement(D.b,{to:"/"},r.a.createElement("button",{className:"button-not-found"},"Go to Homepage")))}}]),a}(n.Component)),ct=(a(350),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.onClose,e.prev=1,t.preventDefault(),r=n.state.email,e.next=6,y.auth().sendPasswordResetEmail(r);case 6:a(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n.setState({error:"Error on sending mail"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",error:""},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=this.props.onClose;return r.a.createElement("div",{className:"modal-container-reset"},r.a.createElement("div",{className:"modal-style-reset"},r.a.createElement("button",{className:"close-modal",onClick:n},r.a.createElement("img",{className:"close-modal-image",src:"../../img/close-icon.png",alt:"delete-project"})),r.a.createElement("p",{className:"error-text"},a),r.a.createElement("form",{className:"form-create-project",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"label-modal",htmlFor:"name"},"Email:"),r.a.createElement("input",{required:"required",className:"input-modal",type:"text",id:"email",value:t,name:"email",placeholder:"bob@marley.com",onChange:this.handleChange}),r.a.createElement("button",{className:"button-modal",type:"submit"},"Reset"))))}}]),a}(n.Component)),lt=(a(127),"LOADING"),it="ERROR",st="LOADED",mt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=n.props.history,r=n.state,o=r.email,c=r.hashedPassword,n.setState({status:lt}),e.next=7,y.auth().signInWithEmailAndPassword(o,c);case 7:a.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n.setState({status:st,errorMessage:"Error on login"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.showModalReset=function(){n.setState({resetPasswordModal:!0})},n.closeModalReset=function(){n.setState({resetPasswordModal:!1})},n.handleSubmitGoogle=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.props.history,r=new y.auth.GoogleAuthProvider,e.next=5,y.auth().signInWithPopup(r);case 5:a.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({status:it,errorMessage:"Error on login google"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.showContent=function(){var e=n.state,t=e.status,a=e.errorMessage,o=e.email,c=e.hashedPassword,l=e.resetPasswordModal;switch(t){case lt:return r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null));case st:return r.a.createElement("div",{className:"login-signup-container"},r.a.createElement("div",{className:"logo-container"}),r.a.createElement("div",{className:"form-title-container"},r.a.createElement("h1",{className:"title-login-signup"},"Login:"),r.a.createElement("p",{className:"error-text padding-error"},a),l&&r.a.createElement(ct,{onClose:n.closeModalReset}),r.a.createElement("form",{className:"login-form",onSubmit:n.handleSubmit},r.a.createElement("input",{className:"input-form",placeholder:"email",type:"text",required:"required",name:"email",value:o,id:"email",onChange:n.handleChange}),r.a.createElement("input",{className:"input-form",type:"password",required:"required",placeholder:"\xb7\xb7\xb7\xb7\xb7\xb7",name:"hashedPassword",id:"hashedPassword",value:c,onChange:n.handleChange}),r.a.createElement("div",{className:"button-link-login-signup"},r.a.createElement("div",{className:"link-login-container"},r.a.createElement(D.b,{className:"text-form",to:"/signup"},"You don't have an account? Register here!"),r.a.createElement("p",{className:"text-form",onClick:n.showModalReset},"Reset password")),r.a.createElement("input",{className:"button-form",type:"submit",value:"Log in"}))),r.a.createElement("div",{className:"google-container",onClick:n.handleSubmitGoogle},r.a.createElement("div",null,r.a.createElement("img",{className:"google-image",src:"/img/google.png",alt:"google"})),r.a.createElement("p",{className:"google-text"},"Login with google"))));case it:return r.a.createElement("div",{className:"error-text"},a);default:return r.a.createElement("div",{className:"error-text"},"Strange error...")}},n.state={email:"",hashedPassword:"",status:st,errorMessage:"",resetPasswordModal:!1},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,null),this.showContent())}}]),a}(n.Component),dt="LOADING",ut="ERROR",pt="LOADED",ht=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,o,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),a=n.state,r=a.name,o=a.email,c=a.hashedPassword,l=a.confirmationPassword,s=n.props.history,!(c!==l||c.length<6)){e.next=8;break}n.setState({errorMessage:"Weak password or mismatch",status:pt}),e.next=14;break;case 8:return n.setState({status:dt}),e.next=11,y.auth().createUserWithEmailAndPassword(o,c);case 11:return e.next=13,y.auth().currentUser.updateProfile({photoURL:"https://firebasestorage.googleapis.com/v0/b/droy-prod.appspot.com/o/public%2FdefaultAvatar.png?alt=media&token=dec42397-ff82-42b5-bc30-f6daff12e837",displayName:r});case 13:s.push("/");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),n.setState({status:ut,errorMessage:"Error on signup"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),n.handleSubmitGoogle=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.props.history,a=new y.auth.GoogleAuthProvider,e.next=5,y.auth().signInWithPopup(a);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({status:ut,errorMessage:"Error on signup google"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.handleChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.showContent=function(){var e=n.state,t=e.status,a=e.errorMessage,o=e.email,c=e.hashedPassword,l=e.name,i=e.confirmationPassword;switch(t){case dt:return r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null));case pt:return r.a.createElement("div",{className:"login-signup-container"},r.a.createElement("div",{className:"logo-container"}),r.a.createElement("div",{className:"form-title-container"},r.a.createElement("h1",{className:"title-login-signup"},"Sign Up"),r.a.createElement("p",{className:"error-text padding-error"},a),r.a.createElement("form",{className:"login-form",onSubmit:n.handleSubmit},r.a.createElement("input",{className:"input-form",placeholder:"email",type:"text",required:"required",name:"email",value:o,id:"email",onChange:n.handleChange}),r.a.createElement("input",{className:"input-form",type:"password",required:"required",placeholder:"\xb7\xb7\xb7\xb7\xb7\xb7",name:"hashedPassword",id:"hashedPassword",value:c,onChange:n.handleChange}),r.a.createElement("input",{className:"input-form",type:"password",required:"required",placeholder:"\xb7\xb7\xb7\xb7\xb7\xb7",name:"confirmationPassword",id:"confirmationPassword",value:i,onChange:n.handleChange}),r.a.createElement("input",{className:"input-form",type:"text",required:"required",placeholder:"Bob Marley",name:"name",id:"name",value:l,onChange:n.handleChange}),r.a.createElement("div",{className:"button-link-login-signup"},r.a.createElement(D.b,{className:"text-form",to:"/login"},"Already have an account? Log in here!"),r.a.createElement("input",{className:"button-form",type:"submit",value:"create your account"}))),r.a.createElement("div",{className:"google-container",onClick:n.handleSubmitGoogle},r.a.createElement("div",null,r.a.createElement("img",{className:"google-image",src:"/img/google.png",alt:"google"})),r.a.createElement("p",{className:"google-text"},"Sign up with google"))));case ut:return r.a.createElement("div",{className:"error-text padding-error"},a);default:return r.a.createElement("div",{className:"error-text padding-error"},"Strange error...")}},n.state={email:"",hashedPassword:"",name:"",confirmationPassword:"",status:pt,errorMessage:""},n}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(B,null),this.showContent())}}]),a}(n.Component),gt=(a(351),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer-container"},r.a.createElement("p",null,"Created and designed by Marc Serra and Marta Mullor"))}}]),a}(n.Component)),ft=a(16),vt=(a(352),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement(ft.Parallax,{ref:function(t){return e.parallax=t},pages:4.6},r.a.createElement(B,null),r.a.createElement(ft.ParallaxLayer,{offset:0,speed:.5,style:{opacity:.8}},r.a.createElement("img",{className:"home-picture",src:"/img/about-home.png",alt:"about-home"})),r.a.createElement(ft.ParallaxLayer,{offset:0,speed:.8,style:{opacity:1}},r.a.createElement("section",{className:"section-home-about"},r.a.createElement("h2",{className:"title-home"},"Free Website Builder"),r.a.createElement("h1",{className:"subtitle-home"},"Create awesome websites! ",r.a.createElement("br",null)," No coding and free."),r.a.createElement(D.b,{className:"button-home",to:"/signup"},"Start now"))),r.a.createElement(ft.ParallaxLayer,{offset:1,speed:0,style:{opacity:1}},r.a.createElement("h2",{className:"section-title"},"How DROY works?"),r.a.createElement("div",{className:"icons-container"},r.a.createElement("div",{className:"icon-container"},r.a.createElement("img",{className:"section-icon",src:"/img/start-icons.png",alt:"about-home"}),r.a.createElement("p",{className:"text-section-icon"},"Start project")),r.a.createElement("div",{className:"icon-container"},r.a.createElement("img",{className:"section-icon",src:"/img/web-icons.png",alt:"about-home"}),r.a.createElement("p",{className:"text-section-icon"},"Add components")),r.a.createElement("div",{className:"icon-container"},r.a.createElement("img",{className:"section-icon",src:"/img/edit-icons.png",alt:"about-home"}),r.a.createElement("p",{className:"text-section-icon"},"Edit the style")),r.a.createElement("div",{className:"icon-container"},r.a.createElement("img",{className:"section-icon",src:"/img/deploy-icons.png",alt:"about-home"}),r.a.createElement("p",{className:"text-section-icon"},"Deploy project")))),r.a.createElement(ft.ParallaxLayer,{offset:1.8,speed:.8,style:{opacity:1}},r.a.createElement("img",{className:"home-picture",src:"/img/section1-image.png",alt:"about-home"})),r.a.createElement(ft.ParallaxLayer,{offset:1.9,speed:.8,style:{opacity:1}},r.a.createElement("div",{className:"section-container-info-right"},r.a.createElement("h3",{className:"title-section-right"},"Drag blocks ",r.a.createElement("br",null)," to page"))),r.a.createElement(ft.ParallaxLayer,{offset:2,speed:.3,style:{opacity:1}},r.a.createElement("img",{className:"home-picture",src:"/img/section2-image.png",alt:"about-home"})),r.a.createElement(ft.ParallaxLayer,{offset:2,speed:.5,style:{opacity:1}},r.a.createElement("div",{className:"section-container-info-left"},r.a.createElement("h3",{className:"title-section-left"},"Edit and ",r.a.createElement("br",null)," style inline"))),r.a.createElement(ft.ParallaxLayer,{offset:2.95,speed:.7,style:{opacity:1}},r.a.createElement("img",{className:"home-picture",src:"/img/section3-image.png",alt:"about-home"})),r.a.createElement(ft.ParallaxLayer,{offset:2.95,speed:.8,style:{opacity:1}},r.a.createElement("div",{className:"section-container-info-right"},r.a.createElement("h3",{className:"title-section-right"},"Preview",r.a.createElement("br",null),"and publish"))),r.a.createElement(ft.ParallaxLayer,{offset:3,speed:.5,style:{opacity:1}},r.a.createElement("section",{className:"section-about"},r.a.createElement("h3",{className:"subtitle-home"},"Its easy and simple"),r.a.createElement(D.b,{className:"button-home",to:"/signup"},"Start now"))),r.a.createElement(ft.ParallaxLayer,{offset:3.55,speed:0,style:{opacity:1}},r.a.createElement("h2",{className:"section-title"},"What users say"),r.a.createElement("div",{className:"opinions-container"},r.a.createElement("div",{className:"opinion-container"},r.a.createElement("h4",{className:"name-opinion"},"Roger Hollings"),r.a.createElement("p",{className:"text-section-icon"},"Mobirise Website Builder is a refresher on the two solutions for creating websites that load as well on mobile devices as they do on desktops.")),r.a.createElement("div",{className:"opinion-container"},r.a.createElement("h4",{className:"name-opinion"},"Roger Hollings"),r.a.createElement("p",{className:"text-section-icon"},"Mobirise Website Builder is a refresher on the two solutions for creating websites that load as well on mobile devices as they do on desktops.")))),r.a.createElement(ft.ParallaxLayer,{offset:4.01,speed:1,style:{opacity:1}},r.a.createElement(gt,null))))}}]),a}(n.Component)),bt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{y.auth().onAuthStateChanged((function(e){n.setState({authLoading:!1})}))}catch(t){console.error("error on login")}case 1:case"end":return e.stop()}}),e)}))),n.state={authLoading:!0},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.authLoading;return r.a.createElement("div",null,e?r.a.createElement("div",{className:"loading-container"},r.a.createElement(z,null)):r.a.createElement(M,null,r.a.createElement("div",{className:"App"},r.a.createElement(g.d,null,r.a.createElement(E,{exact:!0,path:"/",component:V}),r.a.createElement(j,{exact:!0,path:"/login",component:mt}),r.a.createElement(j,{exact:!0,path:"/signup",component:ht}),r.a.createElement(E,{exact:!0,path:"/builder/:projectId",component:rt}),r.a.createElement(g.b,{path:"/about",component:vt}),r.a.createElement(g.b,{path:"*",component:ot})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D.a,null,r.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.cbe53912.chunk.js.map